{
  "$schema": "https://developer.microsoft.com/json-schemas/rush/v5/command-line.schema.json",
  "commands": [
    {
      "commandKind": "global",
      "name": "dev",
      "summary": "Start both API (port 3001) and Web (port 3000) dev servers concurrently",
      "shellCommand": "bash -lc \"trap 'kill 0' EXIT; (cd apps/api && rushx dev) & (cd apps/web && rushx dev) & wait\""
    },
    {
      "commandKind": "global",
      "name": "dev:web",
      "summary": "Start the Next.js web app dev server on http://localhost:3000",
      "shellCommand": "bash -lc \"cd apps/web && rushx dev\""
    },
    {
      "commandKind": "global",
      "name": "dev:api",
      "summary": "Start the Express API dev server on http://localhost:3001",
      "shellCommand": "bash -lc \"cd apps/api && rushx dev\""
    },
    {
      "commandKind": "global",
      "name": "dev:mobile",
      "summary": "Start the Expo mobile dev server (scan QR with Expo Go)",
      "shellCommand": "bash -lc \"cd apps/mobile && rushx start\""
    },
    {
      "commandKind": "global",
      "name": "mobile:ios",
      "summary": "Start Expo and open iOS Simulator",
      "shellCommand": "bash -lc \"cd apps/mobile && rushx ios\""
    },
    {
      "commandKind": "global",
      "name": "mobile:android",
      "summary": "Start Expo and open Android Emulator",
      "shellCommand": "bash -lc \"cd apps/mobile && rushx android\""
    },
    {
      "commandKind": "global",
      "name": "mobile:tunnel",
      "summary": "Start Expo with tunnel mode (for real devices on different networks)",
      "shellCommand": "bash -lc \"cd apps/mobile && rushx start:tunnel\""
    },
    {
      "commandKind": "global",
      "name": "build:mobile",
      "summary": "Type-check the mobile app (no emit)",
      "shellCommand": "bash -lc \"cd apps/mobile && rushx typecheck\""
    },
    {
      "commandKind": "global",
      "name": "clean:mobile",
      "summary": "Clean mobile app caches (.expo, dist, node_modules/.cache)",
      "shellCommand": "bash -lc \"cd apps/mobile && rushx clean\""
    },
    {
      "commandKind": "global",
      "name": "mobile:prebuild:ios",
      "summary": "Generate native iOS project (for Xcode builds / real device deployment)",
      "shellCommand": "bash -lc \"cd apps/mobile && rushx prebuild:ios\""
    },
    {
      "commandKind": "global",
      "name": "mobile:prebuild:android",
      "summary": "Generate native Android project (for Android Studio builds / real device deployment)",
      "shellCommand": "bash -lc \"cd apps/mobile && rushx prebuild:android\""
    },
    {
      "commandKind": "global",
      "name": "dev:shared",
      "summary": "Start the shared library in watch mode (auto-rebuild on changes)",
      "shellCommand": "bash -lc \"cd libraries/shared && rushx dev\""
    },
    {
      "commandKind": "global",
      "name": "dev:ui",
      "summary": "Start the UI library in watch mode (auto-rebuild on changes)",
      "shellCommand": "bash -lc \"cd libraries/ui && rushx dev\""
    },
    {
      "commandKind": "global",
      "name": "test:api",
      "summary": "Run API unit tests with coverage",
      "shellCommand": "bash -lc \"cd apps/api && rushx test\""
    },
    {
      "commandKind": "global",
      "name": "test:shared",
      "summary": "Run shared library unit tests with coverage",
      "shellCommand": "bash -lc \"cd libraries/shared && rushx test\""
    },
    {
      "commandKind": "global",
      "name": "test:e2e",
      "summary": "Run Playwright end-to-end tests (requires API + Web servers running)",
      "shellCommand": "bash -lc \"cd e2e && rushx test\""
    },
    {
      "commandKind": "global",
      "name": "test:e2e:headed",
      "summary": "Run Playwright E2E tests in headed browser mode",
      "shellCommand": "bash -lc \"cd e2e && rushx test:headed\""
    },
    {
      "commandKind": "global",
      "name": "test:e2e:ui",
      "summary": "Open Playwright E2E test UI for interactive debugging",
      "shellCommand": "bash -lc \"cd e2e && rushx test:ui\""
    },
    {
      "commandKind": "global",
      "name": "test:e2e:report",
      "summary": "Show the Playwright HTML test report",
      "shellCommand": "bash -lc \"cd e2e && rushx report\""
    },
    {
      "commandKind": "global",
      "name": "test:regression",
      "summary": "Run the regression test suite to verify all existing functionality",
      "shellCommand": "bash -lc \"cd apps/api && rushx test:regression\""
    },
    {
      "commandKind": "global",
      "name": "build:shared",
      "summary": "Build the shared types library",
      "shellCommand": "bash -lc \"cd libraries/shared && rushx build\""
    },
    {
      "commandKind": "global",
      "name": "build:ui",
      "summary": "Build the UI component library",
      "shellCommand": "bash -lc \"cd libraries/ui && rushx build\""
    },
    {
      "commandKind": "global",
      "name": "build:api",
      "summary": "Build the API server",
      "shellCommand": "bash -lc \"cd apps/api && rushx build\""
    },
    {
      "commandKind": "global",
      "name": "build:web",
      "summary": "Build the web application for production",
      "shellCommand": "bash -lc \"cd apps/web && rushx build\""
    },
    {
      "commandKind": "global",
      "name": "start:api",
      "summary": "Start the API server in production mode",
      "shellCommand": "bash -lc \"cd apps/api && rushx start\""
    },
    {
      "commandKind": "global",
      "name": "start:web",
      "summary": "Start the web app in production mode",
      "shellCommand": "bash -lc \"cd apps/web && rushx start\""
    },
    {
      "commandKind": "bulk",
      "name": "clean",
      "summary": "Clean build outputs for all projects",
      "enableParallelism": true,
      "ignoreDependencyOrder": true,
      "ignoreMissingScript": true
    },
    {
      "commandKind": "bulk",
      "name": "lint",
      "summary": "Run ESLint for all projects",
      "enableParallelism": true,
      "ignoreMissingScript": true
    },
    {
      "commandKind": "bulk",
      "name": "typecheck",
      "summary": "Run TypeScript type-checking for all projects",
      "enableParallelism": true,
      "ignoreMissingScript": true
    },
    {
      "commandKind": "bulk",
      "name": "test",
      "summary": "Run unit tests for all projects",
      "enableParallelism": true,
      "ignoreMissingScript": true
    }
  ],
  "parameters": []
}
